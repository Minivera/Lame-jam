[gd_scene load_steps=22 format=1]

[ext_resource path="res://Scripts/Game.gd" type="Script" id=1]
[ext_resource path="res://Tiles/cave_textures.tres" type="TileSet" id=2]
[ext_resource path="res://Scripts/sides.gd" type="Script" id=3]
[ext_resource path="res://Scenes/trail_segments.tscn" type="PackedScene" id=4]
[ext_resource path="res://Sprites/FlowerBase0.png" type="Texture" id=5]
[ext_resource path="res://Sprites/FlowerBase1.png" type="Texture" id=6]
[ext_resource path="res://Sprites/FlowerBase2.png" type="Texture" id=7]
[ext_resource path="res://Sprites/FlowerBase3.png" type="Texture" id=8]
[ext_resource path="res://Sprites/FlowerBase4.png" type="Texture" id=9]
[ext_resource path="res://Sprites/FlowerBase5.png" type="Texture" id=10]
[ext_resource path="res://Sprites/FlowerBase6.png" type="Texture" id=11]
[ext_resource path="res://Sprites/FlowerBase7.png" type="Texture" id=12]
[ext_resource path="res://Sprites/FlowerBase8.png" type="Texture" id=13]
[ext_resource path="res://Sprites/FlowerBase9.png" type="Texture" id=14]
[ext_resource path="res://Sprites/FlowerBase10.png" type="Texture" id=15]
[ext_resource path="res://Scripts/player_script.gd" type="Script" id=16]
[ext_resource path="res://Scenes/Shine2.tscn" type="PackedScene" id=17]

[sub_resource type="GDScript" id=1]

script/source = "# Left Side

extends Node2D

# Personnal path
var path = []

func _draw():
	var col = []
	col.append(Color(0,0,0,1))
	
	for i in range(path.size()):
		if i > 0:
			var points = []
			points.append(Vector2(0, path[i].y))
			points.append(Vector2(path[i].x, path[i].y))
			points.append(Vector2(path[i-1].x, path[i-1].y))
			points.append(Vector2(0, path[i-1].y))
			draw_polygon(points, col)"

[sub_resource type="GDScript" id=2]

script/source = "# Left Side

extends Node2D

# Personnal path
var path = []

func _draw():
	var col = []
	col.append(Color(0,0,0,1))
	var viewport = get_viewport().get_rect().size
	var viewWidth = viewport[0]
	
	for i in range(path.size()):
		if i > 0:
			var points = []
			points.append(Vector2(viewWidth, path[i].y))
			points.append(Vector2(path[i].x, path[i].y))
			points.append(Vector2(path[i-1].x, path[i-1].y))
			points.append(Vector2(viewWidth, path[i-1].y))
			draw_polygon(points, col)"

[sub_resource type="SpriteFrames" id=3]

animations = [ {
"frames": [ ExtResource( 5 ), ExtResource( 6 ), ExtResource( 7 ), ExtResource( 8 ), ExtResource( 9 ), ExtResource( 10 ), ExtResource( 11 ), ExtResource( 12 ), ExtResource( 13 ), ExtResource( 14 ), ExtResource( 15 ) ],
"loop": true,
"name": "default",
"speed": 5.0
} ]

[sub_resource type="SpriteFrames" id=4]

animations = [ {
"frames": [ ExtResource( 5 ), ExtResource( 6 ), ExtResource( 7 ), ExtResource( 8 ), ExtResource( 9 ), ExtResource( 10 ), ExtResource( 11 ), ExtResource( 12 ), ExtResource( 13 ), ExtResource( 14 ), ExtResource( 15 ) ],
"loop": true,
"name": "default",
"speed": 0.0
} ]

[node name="Game" type="Node"]

script/script = ExtResource( 1 )

[node name="TileMap" type="TileMap" parent="."]

mode = 0
tile_set = ExtResource( 2 )
cell/size = Vector2( 454, 454 )
cell/quadrant_size = 16
cell/custom_transform = Matrix32( 1, 0, 0, 1, 0, 0 )
cell/half_offset = 2
cell/tile_origin = 0
cell/y_sort = false
collision/use_kinematic = false
collision/friction = 1.0
collision/bounce = 0.0
collision/layers = 1
collision/mask = 1
occluder/light_mask = 1
tile_data = IntArray(  )

[node name="Sides" type="Node2D" parent="."]

script/script = ExtResource( 3 )

[node name="RightDraw" type="Node2D" parent="Sides"]

script/script = SubResource( 1 )

[node name="LeftDraw" type="Node2D" parent="Sides"]

script/script = SubResource( 2 )

[node name="CanvasLayer 2" parent="." instance=ExtResource( 4 )]

[node name="AnimatedSprite" type="AnimatedSprite" parent="."]

visibility/visible = false
frames = SubResource( 3 )
animation = "default"

[node name="CanvasLayer" type="CanvasLayer" parent="."]

layer = 1
offset = Vector2( 0, 0 )
rotation = 0.0
scale = Vector2( 1, 1 )

[node name="Player" type="AnimatedSprite" parent="CanvasLayer"]

transform/pos = Vector2( 496.399, 312.465 )
frames = SubResource( 4 )
animation = "default"
script/script = ExtResource( 16 )

[node name="Shine2" parent="." instance=ExtResource( 17 )]


